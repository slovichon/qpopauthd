for the temp file, use fdopen() and use the std lib for I/O
robustness when the child dies (regcomp), parent should die
